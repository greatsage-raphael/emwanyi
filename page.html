<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emwanyi Documentary</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #000000;
            color: #ffffff;
            overflow-x: hidden;
        }

        section {
            height: 100vh;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .coffee-bean-section{
            height: 200vh;
        }

        /* Make the impact section taller */
        .impact-section {
            height: 300vh; /* Make this section 1.5x taller than others */
        }

        .image-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .camera-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .coffee-bean-img {
            width: 500px;
            height: auto;
            position: absolute;
            opacity: 0;
        }

        .coffee-bean-falling {
            width: 500px;
            height: auto;
            position: absolute;
            opacity: 0;
            top: 0;
            z-index: 2;
            transform: translateX(-50%); /* Center horizontally */
        }
    
        .coffee-bean-impact {
            width: 100%;
            height: auto;
            position: absolute;
            opacity: 0;
            z-index: 1;
            top: 50%; 
            transform: translate(-50%, -50%);
        }

        .broken-glass-img {
            width: 100%;
            height: 100%;
            position: absolute;
            opacity: 0;
            object-fit: cover;
        }

        .soil-img {
            width: 100%;
            position: absolute;
            bottom: 0;
            transform: translateY(100%);
        }

        /* Double the height of soil in planting section */
        .planting-section {
            height: 300vh; /* Make this section taller */
        }

        .plant-img {
        position: absolute;
        bottom: 15%; /* Set initial position at soil level */
        opacity: 0;
        left: 50%; /* Center horizontally */
        transform: translateX(-50%); /* Ensure proper centering */
    }

    .seed-img {
        width: 300px;
        height: auto;
        position: absolute;
        opacity: 0;
        transform: translateX(-50%); /* Ensure proper centering */
    }

    /* Optional: Add these for more realistic growth */
    .plant-stage-1 {
        width: 60px; /* Smaller starting seedling */
        height: auto;
    }

    .plant-stage-2 {
        width: 120px; /* Medium growth stage */
        height: auto;
    }

    .plant-stage-3 {
        width: 200px; /* Full mature plant */
        height: auto;
    }

        .text {
            position: absolute;
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            opacity: 0;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);
            color: #ffffff;
        }

        .title-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            opacity: 0;
            z-index: 10;
        }

        .title {
            font-size: 5rem;
            font-weight: bold;
            letter-spacing: 5px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .subtitle {
            font-size: 1.5rem;
            font-weight: 300;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 5;
            opacity: 0;
        }

        /* Placeholder styling */
        .placeholder {
            background-color: #000000;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #aaa;
            font-size: 14px;
            text-align: center;
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <section class="camera-section">
            <div class="image-container">
                <img src="/public/cameraImage2.jpg" alt="Camera facing user" class="camera-img placeholder">
            </div>
        </section>

        <section class="coffee-bean-section">
            <div class="image-container">
                <img src="/public/coffee bean.png" alt="Coffee Bean" class="coffee-bean-img placeholder">
            </div>
        </section>

        <section class="impact-section">
            <div class="image-container">
                <!-- Image 1: Falling coffee bean -->
                <img src="/public/coffee bean.png" alt="Falling Coffee Bean" class="coffee-bean-falling placeholder">
                <!-- Image 2: Coffee bean impacting camera lens -->
                <img src="/public/impact.jpg" alt="Coffee Bean Impact" class="coffee-bean-impact placeholder">
            </div>
        </section>

        <section class="planting-section">
            <div class="image-container">
                <img src="/public/soil.jpg" alt="Soil" class="soil-img placeholder">
                <img src="/public/coffee bean.png" alt="Coffee Seed" class="seed-img">
            </div>
        </section>

        <section class="growing-section">
            <div class="image-container">
                <img src="/public/soil.jpg" alt="Soil" class="soil-img soil-2 placeholder">
                <img src="/public/seed germinating.jpg" alt="Coffee Plant Stage 1" class="plant-img plant-stage-1 placeholder">
                <img src="/public/sapling.jpg" alt="Coffee Plant Stage 2" class="plant-img plant-stage-2 placeholder">
            </div>
        </section>

        <section class="final-section">
            <div class="image-container">
                <div class="overlay"></div>
                <img src="/public/soil.jpg" alt="Soil" class="soil-img soil-3 placeholder">
                <img src="/api/placeholder/200/400" alt="Mature Coffee Plant" class="plant-img plant-stage-3 placeholder">
                <div class="title-container">
                    <div class="title">Emwanyi</div>
                    <div class="subtitle">Documentary</div>
                </div>
            </div>
        </section>
    </div>

    <!-- Import anime.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Elements
    const camera = document.querySelector('.camera-img');
    const coffeeBean = document.querySelector('.coffee-bean-img');
    
    const fallingBean = document.querySelector('.coffee-bean-falling');
    const beanImpact = document.querySelector('.coffee-bean-impact');
    const breakingText = document.querySelector('.breaking-text');
    const brokenGlass = document.querySelector('.broken-glass-img');
    const soilImages = document.querySelectorAll('.soil-img');
    const seed = document.querySelector('.seed-img');
    const plantStage1 = document.querySelector('.plant-stage-1');
    const plantStage2 = document.querySelector('.plant-stage-2');
    const plantStage3 = document.querySelector('.plant-stage-3');
    const titleContainer = document.querySelector('.title-container');
    const overlay = document.querySelector('.overlay');

    // Initial animations
    anime({
        targets: camera,
        scale: [0.95, 1],
        opacity: [0, 1],
        duration: 1000,
        easing: 'easeOutQuad'
    });

    // Scroll-based animations
    window.addEventListener('scroll', function() {
        // Calculate scroll position for animations
        const scrollY = window.scrollY;
        const windowHeight = window.innerHeight;
        
        // Camera section animations (0 - 100vh)
        const cameraProgress = Math.max(0, Math.min(1, scrollY / windowHeight));
        anime({
            targets: camera,
            scale: 1 + cameraProgress * 0.5,
            translateZ: cameraProgress * 100,
            filter: `blur(${cameraProgress * 2}px)`,
            opacity: 1 - cameraProgress * 0.7,
            duration: 0,
            easing: 'easeOutQuad'
        });
        
        // Coffee bean section animations (100vh - 200vh)
        const beanProgress = Math.max(0, Math.min(1, (scrollY - windowHeight) / windowHeight));
        anime({
            targets: coffeeBean,
            translateY: [windowHeight * (1 - beanProgress), 0],
            opacity: Math.min(beanProgress * 2, 1),
            rotate: beanProgress * 360,
            duration: 0,
            easing: 'linear'
        });
        
        // Impact section animations (200vh - 500vh) - 300vh HEIGHT
        const impactSectionHeight = windowHeight * 3;
        const impactProgress = Math.max(0, Math.min(1, (scrollY - windowHeight * 2) / impactSectionHeight));
        
        // First 50%: Bean falling animation (0-50% of scroll progress)
        anime({
            targets: fallingBean,
            translateY: impactProgress < 0.5 ? 
                (impactProgress / 0.5) * windowHeight * 0.6 : 
                windowHeight * 0.6,
            opacity: impactProgress < 0.5 ? 
                Math.min(1, impactProgress * 3) : 
                Math.max(0, 1 - (impactProgress - 0.5) * 5),
            rotate: impactProgress * 360,
            duration: 0,
            easing: 'easeInQuad'
        });
        
        // Last 50%: Impact animation (50-100% of scroll progress)
        anime({
            targets: beanImpact,
            opacity: impactProgress > 0.5 ? 
                Math.min((impactProgress - 0.5) * 2, 1) : 
                0,
            scale: impactProgress > 0.5 ? 
                0.9 + ((impactProgress - 0.5) * 0.4) : 
                0.9,
            duration: 0,
            easing: 'easeOutQuad'
        });
        
          // Planting section animations (500vh - 800vh) - 300vh HEIGHT
            const plantingSectionStart = windowHeight * 6;
            const plantingSectionHeight = windowHeight * 3;
            const plantingProgress = Math.max(0, Math.min(1, (scrollY - plantingSectionStart) / plantingSectionHeight));
            
            // Calculate soil position - This helps us ensure the seed lands exactly in the soil
            const soilPosition = Math.max(0, 100 - plantingProgress * 100);
            
            // Soil animation 
            soilImages.forEach(soil => {
                anime({
                    targets: soil,
                    translateY: `calc(${soilPosition}% - 80px)`,
                    duration: 0,
                    easing: 'linear'
                });
            });
            
            // SEED ANIMATION - FIXED POSITION AFTER LANDING
            const seedFinalBottom = 80; // Position where seed "lands" in soil (percentage from top)
            
            // During the planting section (0-100% of planting progress)
            if (plantingProgress < 0.7) {
                // During falling phase (0-80% of planting section)
                const fallProgress = plantingProgress / 0.7;
                const seedTopPosition = 10 + (fallProgress * (seedFinalBottom - 10));
                
                anime({
                    targets: seed,
                    opacity: 1,
                    top: seedTopPosition + '%',
                    rotate: fallProgress * 720, // Spin as it falls
                    duration: 0,
                    easing: 'easeInQuad'
                });
            } else {
                // After landing (80-100% of planting section)
                // Seed stays exactly where it landed
                anime({
                    targets: seed,
                    opacity: 1,
                    top: seedFinalBottom + '%',
                    rotate: 720, // Final rotation (two full rotations)
                    duration: 0
                });
            }
        
        // Growing section animations (800vh - 900vh)
        const growingSectionStart = plantingSectionStart + plantingSectionHeight;
        const growingProgress = Math.max(0, Math.min(1, (scrollY - growingSectionStart) / windowHeight));
        
        // TRANSFORMATION: Seed to Seedling
        // Instead of hiding the seed immediately, transform it gradually
        
        // First, determine the transformation phase
        if (growingProgress > 0) {
            // Seed remains visible but starts transforming when growing section begins
            // It gradually becomes less visible as plantStage1 becomes more visible
            anime({
                targets: seed,
                opacity: Math.max(0, 1 - growingProgress * 2), // Fade out more gradually
                scale: 1 + growingProgress * 0.2, // Slight expansion effect
                duration: 0,
                easing: 'linear'
            });
            
            // Plant stage 1 (seedling) emerges from the same position as the seed
            // We position it exactly where the seed is 
            anime({
                targets: plantStage1,
                opacity: Math.min(growingProgress * 2, 1), // Fade in as seed fades out
                scale: growingProgress * 0.8, // Start small and grow
                bottom: (1 - growingProgress * 0.5) * 15 + '%', // Emerge upward from soil
                duration: 0,
                easing: 'easeOutQuad'
            });
        }
        
        // Plant stage 2 growth - only start once plantStage1 is fully visible
        if (growingProgress > 0.5) {
            const stage2Progress = (growingProgress - 0.5) * 2; // Normalize progress for stage 2 (0.5-1.0 → 0-1.0)
            
            anime({
                targets: plantStage1,
                opacity: Math.max(0, 1 - stage2Progress), // Fade out plant stage 1
                duration: 0,
                easing: 'linear'
            });
            
            anime({
                targets: plantStage2,
                opacity: Math.min(stage2Progress, 1), // Fade in plant stage 2
                scale: 0.6 + stage2Progress * 0.4, // Grow from 60% to 100% size
                bottom: 15 + stage2Progress * 5 + '%', // Continue growing upward
                duration: 0,
                easing: 'easeOutQuad'
            });
        } else {
            // Ensure plant stage 2 is invisible when not active
            anime({
                targets: plantStage2,
                opacity: 0,
                duration: 0
            });
        }
        
        // Final section animations (900vh - 1000vh)
        const finalSectionStart = growingSectionStart + windowHeight;
        const finalProgress = Math.max(0, Math.min(1, (scrollY - finalSectionStart) / windowHeight));
        
        // Mature plant (transition from plantStage2 to plantStage3)
        if (finalProgress > 0) {
            // Fade out plant stage 2
            anime({
                targets: plantStage2,
                opacity: Math.max(0, 1 - finalProgress * 2),
                duration: 0,
                easing: 'linear'
            });
            
            // Fade in mature plant
            anime({
                targets: plantStage3,
                opacity: Math.min(finalProgress * 2, 1),
                scale: 0.8 + finalProgress * 0.2, // Start at 80% and grow to full size
                bottom: 20 + finalProgress * 5 + '%', // Continue growing upward
                duration: 0,
                easing: 'easeOutQuad'
            });
        } else {
            // Ensure plant stage 3 is invisible when not active
            anime({
                targets: plantStage3,
                opacity: 0,
                duration: 0
            });
        }
        
        // Overlay for text contrast
        anime({
            targets: overlay,
            opacity: Math.min(finalProgress * 1.5, 0.7),
            duration: 0,
            easing: 'linear'
        });
        
        // Title reveal
        anime({
            targets: titleContainer,
            opacity: Math.max(0, Math.min(1, (finalProgress - 0.3) * 2)),
            translateY: [50, 0],
            duration: 0,
            easing: 'linear'
        });
    });

    // Trigger scroll event once to initialize positions
    window.dispatchEvent(new Event('scroll'));
});
    </script>
</body>
</html>